{{- /* Comments area start */ -}}
{{- /* to add comments read => https://gohugo.io/content-management/comments/ */ -}}
{{- /* Comments area end */ -}}


{{- if (eq .Site.Params.comments true) }}
<div id="page-comments"></div>
<script>
    let currentTheme = document.getElementsByClassName("dark")[0];
    let utterance = document.createElement('script');
    utterance.src = 'https://utteranc.es/client.js';
    utterance.setAttribute('repo', 'blacklabnz/blacklabnz.github.io');
    utterance.setAttribute('issue-term', 'pathname');

    utterance.setAttribute('crossorigin', 'anonymous');
    utterance.setAttribute('async', '');
    if (currentTheme) {
        utterance.setAttribute('theme', 'photon-dark');
    } else {
        utterance.setAttribute('theme', 'github-light');
    }
    document.querySelector('#page-comments').innerHTML = '';
    document.querySelector('#page-comments').appendChild(utterance);
</script>
<!-- <div id="page-comments">
    <script src="https://utteranc.es/client.js"
        repo="blacklabnz/blacklabnz.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
    </script>
</div> -->
{{- $menu := slice (resources.Get "js/utterance-theme.js") | resources.Concat "assets/js/utterance-theme.js" | minify }}
<script src="{{ $menu.RelPermalink }}"></script>
{{- end }}


