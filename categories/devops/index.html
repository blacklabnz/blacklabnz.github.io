<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>DevOps | blacklabnz</title><meta name=keywords content><meta name=description content="ExampleSite description"><meta name=author content="blacklabnz"><link rel=canonical href=https://blacklabnz.github.com/categories/devops/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.f6842ebe97a00de4a8021d8be2e0b4f41e33a99badd1890455dad33221128ee0.css integrity="sha256-9oQuvpegDeSoAh2L4uC09B4zqZut0YkEVdrTMiESjuA=" rel="preload stylesheet" as=style><link rel=preload href=/apple-touch-icon.png as=image><link rel=icon href=https://blacklabnz.github.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://blacklabnz.github.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://blacklabnz.github.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://blacklabnz.github.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://blacklabnz.github.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blacklabnz.github.com/categories/devops/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-FDV12HCDKK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FDV12HCDKK",{anonymize_ip:!1})}</script><meta property="og:title" content="DevOps"><meta property="og:description" content="ExampleSite description"><meta property="og:type" content="website"><meta property="og:url" content="https://blacklabnz.github.com/categories/devops/"><meta property="og:image" content="https://blacklabnz.github.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="blacklabnz"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blacklabnz.github.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="DevOps"><meta name=twitter:description content="ExampleSite description"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><ul><i class="fas fa-terminal"></i></ul><ul><a href=https://blacklabnz.github.com/ accesskey=h title="blacklabnz (Alt + H)">blacklabnz</a></ul><ul><span id=cursor></span></ul></div><ul id=menu><li><a href=https://blacklabnz.github.com/posts title=blogs><span>blogs</span></a></li><li><a href=https://blacklabnz.github.com/tags/ title=tags><span>tags</span></a></li><li><a href=https://blacklabnz.github.com/about/ title=about><span>about</span></a></li><li><a href=http://linkedin.com target=_blank><i class="fab fa-linkedin-in fa-lg"></i></a></li><li><a href=https://github.com target=_blank><i class="fab fa-github fa-lg"></i></a></li><span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<i class="fas fa-lightbulb"></i></button></span></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://blacklabnz.github.com/>Home</a>&nbsp;»&nbsp;<a href=https://blacklabnz.github.com/categories/>Categories</a></div><h1>DevOps</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>Consume Websocket stream and send to Prometheus in Python</h2></header><section class=entry-content><p>Recently I was tasked with consuming data from websocket, analyse it and then send data to Prometheus. The theory is pretty straight forward: getting data from websocket API in a stream and analyse and take the data points and send it to prometheus for visulization. In this blog you will have all the steps and code needed to reporduce this flow. With this in mind, I decided using python to achieve all these....</p></section><footer class=entry-footer>10 min&nbsp;·&nbsp;blacklabnz</footer><a class=entry-link aria-label="post link to Consume Websocket stream and send to Prometheus in Python" href=https://blacklabnz.github.com/posts/websocket-prometheus/></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://blacklabnz.github.com/>blacklabnz</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>